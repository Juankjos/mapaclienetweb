:root{
  --bg:#f7f9fc; --text:#0b1220; --muted:#5f6b7a; --accent:#0b8fff;
  --panel:#ffffff; --border:#e6ecf2;
  /* Estado (legend/badges) ajustado al tema claro */
  --status-pending:#F59E0B; /* amber */
  --status-done:#0b8fff;    /* accent blue */
  --yellow:#E7B400; --green:#0e7a2b; --greenStroke:#0a4a12; /* legacy */
  --nav-h: 56px;
}

html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

.wrap{
  height:100%; 
  position:relative;
}

#three-overlay{
  position:absolute; 
  inset:0; 
  pointer-events:none; 
  z-index:1300
}

.lbl{
  font-size:11px; 
  color:var(--muted); 
  margin-right:4px
}

.field{
  display:flex; 
  gap:6px; 
  align-items:center
}

.field input[type="date"], .field select, .field button{
  height:32px; padding:0 10px; border-radius:10px; border:1px solid var(--border);
  background:#ffffff; color:var(--text);
}

.btn{
  cursor:pointer; 
  font-weight:600; 
  background:#ffffff;
}

.btn:hover{
  outline:1px solid #1a90ff
}

.hud{
  font-size:11px; 
  color:var(--muted); 
  margin-left:auto; 
  padding:0 6px
}

.inline{
  display:flex; 
  gap:8px; 
  align-items:center
}

.legend{
  display:flex; 
  gap:10px; 
  align-items:center;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%
}

.dot.yellow{
  background:var(--status-pending); 
  box-shadow:0 0 0 2px rgba(245,158,11,.35) inset
}

.dot.green{
  background:var(--status-done); 
  box-shadow:0 0 0 2px rgba(11,143,255,.35) inset
}

.badge-state { 
  display:inline-block; 
  padding:2px 8px; 
  border-radius:999px; 
  font-size:12px; 
  margin-left:6px; 
}

.badge-state.pend { 
  background:var(--status-pending); 
  color:#111; 
}

.badge-state.ejec { 
  background:var(--status-done); 
  color:#fff; 
}

  /* NUEVO: máscara de carga sobre el mapa */
.loading-mask{
  position:absolute; inset:0; display:none; place-items:center; z-index:1200;
  background:rgba(255,255,255,.6); backdrop-filter:blur(0.8rem);
}

.loading-mask.show{ 
  display:grid; 
}

.loading-msg{
  padding:10px 14px; border-radius:12px; background:#ffffff; border:1px solid var(--border);
  color:var(--text); font-weight:600; letter-spacing:.2px;
}

.toast{
  position:absolute;
  top:12px;
  right:12px;
  background:#ffffff;
  border:1px solid var(--border);
  padding:8px 10px;
  border-radius:10px;
  color:var(--text);
  z-index:1000; 
  box-shadow:0 8px 24px rgba(12,18,30,.06)
}

/* Animación: mueve el fondo arriba-abajo */
@keyframes gradientMove {
  0% { background-position: 50% 0%; }
  50% { background-position: 50% 100%; }
  100% { background-position: 50% 0%; }
}

body{ 
  padding-top: var(--nav-h); 
}

@media (max-width: 992px){ 
  .leaflet-top.leaflet-right{ right: 12px; } 
}

@media (max-width: 768px){
  .tecnico-panel{ left:12px; right:12px; width:auto; bottom:12px; }
}